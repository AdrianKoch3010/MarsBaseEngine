<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Mars Base Project: C:/Users/Adrian/Documents/Visual Studio 2017/Projects/Mars Base Project/Mars Base Engine ECS/Include/MBE/Core/Entity.h Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="mars base engine icon 64x64.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Mars Base Project
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_e6bb53534ac0e427887cf7a94c0c004e.html">C:</a></li><li class="navelem"><a class="el" href="dir_8ceffd4ee35c3518d4e8bdc7e638efe8.html">Users</a></li><li class="navelem"><a class="el" href="dir_056fe91fe08eb968cf7879c7ee643be4.html">Adrian</a></li><li class="navelem"><a class="el" href="dir_607a62f407e1391db55d1ddaaeac1a5e.html">Documents</a></li><li class="navelem"><a class="el" href="dir_15a2a3dbff5ce0c290416b02c2743164.html">Visual Studio 2017</a></li><li class="navelem"><a class="el" href="dir_21063b4d1cd07e590384e66d3a94c6c5.html">Projects</a></li><li class="navelem"><a class="el" href="dir_4574cd3dc82ea4d5ff92b808a4e210ac.html">Mars Base Project</a></li><li class="navelem"><a class="el" href="dir_c69e8e4564c8771ab5417f0fae5c79ea.html">Mars Base Engine ECS</a></li><li class="navelem"><a class="el" href="dir_51d247b2c214d719a0fdf228dc7b1318.html">Include</a></li><li class="navelem"><a class="el" href="dir_91fa40955a8b4fee4593bcdee27135dc.html">MBE</a></li><li class="navelem"><a class="el" href="dir_976392a2bf9d0c1c7385a16845f18dde.html">Core</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">Entity.h</div>  </div>
</div><!--header-->
<div class="contents">
<a href="_entity_8h.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="preprocessor">#pragma once</span></div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;</div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;</div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="preprocessor">#include &lt;string&gt;</span></div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="preprocessor">#include &lt;vector&gt;</span></div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="preprocessor">#include &lt;set&gt;</span></div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="preprocessor">#include &lt;algorithm&gt;</span></div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="preprocessor">#include &lt;unordered_map&gt;</span></div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="preprocessor">#include &lt;cassert&gt;</span></div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;</div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="preprocessor">#include &lt;SFML/System/Time.hpp&gt;</span></div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="preprocessor">#include &lt;SFML/System/NonCopyable.hpp&gt;</span></div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;</div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="_handle_base_8h.html">MBE/Core/HandleBase.h</a>&gt;</span></div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="_component_8h.html">MBE/Core/Component.h</a>&gt;</span></div><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="_singleton_8h.html">MBE/Core/Singleton.h</a>&gt;</span></div><div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="_utility_8h.html">MBE/Core/Utility.h</a>&gt;</span></div><div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;</div><div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;</div><div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="keyword">namespace </span><a class="code" href="namespacembe.html">mbe</a></div><div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;{</div><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;    <span class="keyword">class </span>EntityManager;</div><div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;</div><div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;    <span class="keyword">namespace </span>detail</div><div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;    {</div><div class="line"><a name="l00030"></a><span class="lineno"><a class="line" href="namespacembe_1_1detail.html#a57b4fb68f3d43f9f2d4dee78a51d1642">   30</a></span>&#160;        <span class="keyword">typedef</span> std::size_t <a class="code" href="namespacembe_1_1detail.html#a57b4fb68f3d43f9f2d4dee78a51d1642">ComponentTypeID</a>;</div><div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;</div><div class="line"><a name="l00033"></a><span class="lineno"><a class="line" href="namespacembe_1_1detail.html#a2459fb2ad4a15bb974b732e2b1d06604">   33</a></span>&#160;        <span class="keyword">inline</span> ComponentTypeID <a class="code" href="namespacembe_1_1detail.html#a2459fb2ad4a15bb974b732e2b1d06604">GetComponentID</a>() noexcept</div><div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;        {</div><div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;            <span class="comment">// This will only be initialised once</span></div><div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;            <span class="keyword">static</span> ComponentTypeID lastId = 0;</div><div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;</div><div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;            <span class="comment">// After the first initialisation a new number will be returned for every function call</span></div><div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;            <span class="keywordflow">return</span> lastId++;</div><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;        }</div><div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;</div><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;        <span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt;</div><div class="line"><a name="l00047"></a><span class="lineno"><a class="line" href="namespacembe_1_1detail.html#a7ae3fae6399b83d033050caef096f0b3">   47</a></span>&#160;        <span class="keyword">inline</span> ComponentTypeID <a class="code" href="namespacembe_1_1detail.html#a7ae3fae6399b83d033050caef096f0b3">GetComponentTypeID</a>() noexcept</div><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;        {</div><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;            <span class="comment">// There will be only one static variable for each template type</span></div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;            <span class="keyword">static</span> ComponentTypeID typeId = <a class="code" href="namespacembe_1_1detail.html#a2459fb2ad4a15bb974b732e2b1d06604">GetComponentID</a>();</div><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;            <span class="keywordflow">return</span> typeId;</div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;        }</div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;</div><div class="line"><a name="l00054"></a><span class="lineno"><a class="line" href="classmbe_1_1detail_1_1_polyimorphic_component_dictionary.html">   54</a></span>&#160;        <span class="keyword">class </span><a class="code" href="classmbe_1_1detail_1_1_polyimorphic_component_dictionary.html">PolyimorphicComponentDictionary</a> : <span class="keyword">public</span> <a class="code" href="classmbe_1_1detail_1_1_singleton.html">Singleton</a>&lt;PolyimorphicComponentDictionary&gt;</div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;        {</div><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;            <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="classmbe_1_1_entity.html">Entity</a>;</div><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;        <span class="keyword">public</span>:</div><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;            <span class="keyword">template</span> &lt;<span class="keyword">class</span> TDerivedComponent, <span class="keyword">class</span> TBaseComponent&gt;</div><div class="line"><a name="l00059"></a><span class="lineno"><a class="line" href="classmbe_1_1detail_1_1_polyimorphic_component_dictionary.html#a1c7108e55df179afff7a6a33215d0a3b">   59</a></span>&#160;            <span class="keywordtype">void</span> <a class="code" href="classmbe_1_1detail_1_1_polyimorphic_component_dictionary.html#a1c7108e55df179afff7a6a33215d0a3b">AddPolymorphism</a>() noexcept</div><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;            {</div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;                <span class="comment">// Needed since std::is_base_of&lt;T, T&gt; == true</span></div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;                static_assert(std::is_base_of&lt;Component, TBaseComponent&gt;::value, <span class="stringliteral">&quot;PolyimorphicComponentDictionary: TBaseComponent must inherit from Component&quot;</span>);</div><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;                static_assert(std::is_same&lt;Component, TBaseComponent&gt;::value == <span class="keyword">false</span>, <span class="stringliteral">&quot;PolyimorphicComponentDictionary: TBaseComponent must inherit from Component&quot;</span>);</div><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;                static_assert(std::is_base_of&lt;TBaseComponent, TDerivedComponent&gt;::value, <span class="stringliteral">&quot;PolyimorphicComponentDictionary: TDerivedComponent must inherit from TBaseComponent&quot;</span>);</div><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;                static_assert(std::is_same&lt;Component, TBaseComponent&gt;::value == <span class="keyword">false</span>, <span class="stringliteral">&quot;PolyimorphicComponentDictionary: TBaseComponent must inherit from Component&quot;</span>);</div><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;</div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;                polimorphismDictionary[detail::GetComponentTypeID&lt;TDerivedComponent&gt;()].push_back(detail::GetComponentTypeID&lt;TBaseComponent&gt;());</div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;            }</div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;</div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;        <span class="keyword">private</span>:</div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;            std::unordered_map&lt;size_t, std::vector&lt;size_t&gt;&gt; polimorphismDictionary;</div><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;        };</div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;</div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;        <span class="comment">// Global static variables are internal to the file they are declared in and thus to the files that include it. Hence, another layer of abstraction is needed to add each type only once</span></div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;        <span class="comment">// See: https://stackoverflow.com/questions/11478152/how-to-work-with-variable-in-namespace</span></div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;        <span class="comment">// Not really needed when the MBE_ENABLE_COMPONENT_POLYMORPHISM is used in the .cpp file rather than the header (works since the .cpp is not included, hence only defined once)</span></div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;        <span class="keyword">template</span> &lt;<span class="keyword">class</span> TDerivedComponent, <span class="keyword">class</span> TBaseComponent&gt;</div><div class="line"><a name="l00079"></a><span class="lineno"><a class="line" href="structmbe_1_1detail_1_1_component_polyimorphism_adder_static.html">   79</a></span>&#160;        <span class="keyword">struct </span><a class="code" href="structmbe_1_1detail_1_1_component_polyimorphism_adder_static.html">ComponentPolyimorphismAdderStatic</a> : <span class="keyword">public</span> <a class="code" href="classmbe_1_1detail_1_1_singleton.html">detail::Singleton</a>&lt;ComponentPolyimorphismAdderStatic&lt;TDerivedComponent, TBaseComponent&gt;&gt;</div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;        {</div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;            <a class="code" href="structmbe_1_1detail_1_1_component_polyimorphism_adder_static.html">ComponentPolyimorphismAdderStatic</a>() { <a class="code" href="classmbe_1_1detail_1_1_singleton.html#a34bbe90769a0fc812e056a6276fc72d3">PolyimorphicComponentDictionary::Instance</a>().<a class="code" href="classmbe_1_1detail_1_1_polyimorphic_component_dictionary.html#a1c7108e55df179afff7a6a33215d0a3b">AddPolymorphism</a>&lt;TDerivedComponent, TBaseComponent&gt;(); }</div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;        };</div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;</div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;    } <span class="comment">// namespace detail</span></div><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;</div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;    <span class="keyword">template</span> &lt;<span class="keyword">class</span> TDerivedComponent, <span class="keyword">class</span> TBaseComponent&gt;</div><div class="line"><a name="l00087"></a><span class="lineno"><a class="line" href="structmbe_1_1_component_polyimorphism_adder.html">   87</a></span>&#160;    <span class="keyword">struct </span><a class="code" href="structmbe_1_1_component_polyimorphism_adder.html">ComponentPolyimorphismAdder</a></div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;    {</div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;        <span class="comment">// Ensures that the singleton is initialised</span></div><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;        <a class="code" href="structmbe_1_1_component_polyimorphism_adder.html">ComponentPolyimorphismAdder</a>() { <a class="code" href="classmbe_1_1detail_1_1_singleton.html#a34bbe90769a0fc812e056a6276fc72d3">detail::ComponentPolyimorphismAdderStatic&lt;TDerivedComponent, TBaseComponent&gt;::Instance</a>(); }</div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;    };</div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;</div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;} <span class="comment">// namespace mbe</span></div><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;</div><div class="line"><a name="l00109"></a><span class="lineno"><a class="line" href="_entity_8h.html#a88bc2acdc673ec936a98b88ebe986747">  109</a></span>&#160;<span class="preprocessor">#define MBE_ENABLE_COMPONENT_POLYMORPHISM(derivedComponent, baseComponent)                                                      \</span></div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;<span class="preprocessor">namespace mbe                                                                                                                   \</span></div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;<span class="preprocessor">{                                                                                                                               \</span></div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;<span class="preprocessor">    namespace componentPolymorphismDefinitions                                                                                  \</span></div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;<span class="preprocessor">    {                                                                                                                           \</span></div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;<span class="preprocessor">        static const ComponentPolyimorphismAdder&lt;derivedComponent, baseComponent&gt; derivedComponent##baseComponent##_variable;   \</span></div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;<span class="preprocessor">    }                                                                                                                           \</span></div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;<span class="preprocessor">}</span></div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;</div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;<span class="keyword">namespace </span><a class="code" href="namespacembe.html">mbe</a></div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;{</div><div class="line"><a name="l00134"></a><span class="lineno"><a class="line" href="classmbe_1_1_entity.html">  134</a></span>&#160;    <span class="keyword">class </span><a class="code" href="classmbe_1_1_entity.html">Entity</a> : <span class="keyword">public</span> <a class="code" href="classmbe_1_1_handle_base.html">HandleBase</a>&lt;Entity&gt;, <span class="keyword">private</span> sf::NonCopyable</div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;    {</div><div class="line"><a name="l00139"></a><span class="lineno"><a class="line" href="classmbe_1_1_entity.html#a6f579cda6059d102e9074e11a27e0282">  139</a></span>&#160;        <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="classmbe_1_1_entity_manager.html">EntityManager</a>;</div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;</div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;    <span class="keyword">public</span>:</div><div class="line"><a name="l00143"></a><span class="lineno"><a class="line" href="classmbe_1_1_entity.html#ac117c78326bff15c0c49cee364483037">  143</a></span>&#160;        <span class="keyword">typedef</span> std::string <a class="code" href="classmbe_1_1_entity.html#ac117c78326bff15c0c49cee364483037">Group</a>;</div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;</div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;    <span class="keyword">protected</span>:</div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;        <a class="code" href="classmbe_1_1_entity.html">Entity</a>(<a class="code" href="classmbe_1_1_entity_manager.html">EntityManager</a> &amp; entityManager);</div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;</div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;    <span class="keyword">public</span>:</div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;        ~<a class="code" href="classmbe_1_1_entity.html">Entity</a>() = <span class="keywordflow">default</span>;</div><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;</div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;</div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;    <span class="keyword">public</span>:</div><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;        <span class="keywordtype">void</span> Update(sf::Time frameTime);</div><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;</div><div class="line"><a name="l00163"></a><span class="lineno"><a class="line" href="classmbe_1_1_entity.html#ac3e66dbf9fbc26d685d8714428ab4f4a">  163</a></span>&#160;        <span class="keywordtype">bool</span> <a class="code" href="classmbe_1_1_entity.html#ac3e66dbf9fbc26d685d8714428ab4f4a">IsActive</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> active; }</div><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;</div><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;        <span class="keywordtype">void</span> Destroy();</div><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;</div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;        <span class="keyword">template</span> &lt;<span class="keyword">class </span>TComponent, <span class="keyword">typename</span>... TArguments&gt;</div><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;        TComponent &amp; AddComponent(TArguments&amp;&amp;... arguments);</div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;</div><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;        <span class="keyword">template</span>&lt;<span class="keyword">class</span> TComponent&gt;</div><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;        TComponent &amp; GetComponent() <span class="keyword">const</span>;</div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;</div><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;        <span class="keyword">template</span> &lt;<span class="keyword">class</span> TComponent&gt;</div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;        <span class="keywordtype">bool</span> HasComponent() <span class="keyword">const</span>;</div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;</div><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;        <span class="keywordtype">bool</span> IsInGroup(Group groupId) <span class="keyword">const</span>;</div><div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;</div><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;        <span class="keywordtype">void</span> AddToGroup(Group groupId);</div><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;</div><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;        <span class="keywordtype">void</span> RemoveFromGroup(Group groupId);</div><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;</div><div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;        <span class="keywordtype">void</span> AttachChild(HandleID childEntityId);</div><div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;</div><div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;        <span class="keywordtype">void</span> DetatchChild(HandleID childEntityId);</div><div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;</div><div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;        <span class="keywordtype">void</span> SetParentEntityID(HandleID parentEntityId);</div><div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;</div><div class="line"><a name="l00225"></a><span class="lineno"><a class="line" href="classmbe_1_1_entity.html#ac81e3ce9ca0e8765d87ce9ce3f345c38">  225</a></span>&#160;        <span class="keyword">inline</span> HandleID <a class="code" href="classmbe_1_1_entity.html#ac81e3ce9ca0e8765d87ce9ce3f345c38">GetParentEntityID</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> parentEntityId; }</div><div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;</div><div class="line"><a name="l00229"></a><span class="lineno"><a class="line" href="classmbe_1_1_entity.html#ae5fdc031840a8f08dcf24814f9199a3e">  229</a></span>&#160;        <span class="keyword">inline</span> <span class="keyword">const</span> std::set&lt;HandleID&gt; &amp; <a class="code" href="classmbe_1_1_entity.html#ae5fdc031840a8f08dcf24814f9199a3e">GetChildEntityIDList</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> childEntityIdList; }</div><div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;</div><div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;    <span class="keyword">private</span>:</div><div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;        <span class="keywordtype">void</span> <a class="code" href="classmbe_1_1detail_1_1_polyimorphic_component_dictionary.html#a1c7108e55df179afff7a6a33215d0a3b">AddPolymorphism</a>(<a class="code" href="namespacembe_1_1detail.html#a57b4fb68f3d43f9f2d4dee78a51d1642">detail::ComponentTypeID</a> typeId, Component::Ptr component);</div><div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;</div><div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;    <span class="keyword">private</span>:</div><div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;        <a class="code" href="classmbe_1_1_entity_manager.html">EntityManager</a> &amp; entityManager;</div><div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;</div><div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;        <span class="keywordtype">bool</span> active;</div><div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;        std::vector&lt;Component::Ptr&gt; componentList;</div><div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;        std::unordered_map&lt;detail::ComponentTypeID, Component::WPtr&gt; componentDictionary;</div><div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;</div><div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;        std::vector&lt;Group&gt; groupList; </div><div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;</div><div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;        <a class="code" href="classmbe_1_1_handle_base.html#a9a1d158b0bdd993e082f50c80dab11cc">Entity::HandleID</a> parentEntityId;</div><div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;        std::set&lt;Entity::HandleID&gt; childEntityIdList;</div><div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;    };</div><div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;</div><div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;</div><div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;<span class="preprocessor">#pragma region Template Implementations</span></div><div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;</div><div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;    <span class="keyword">template</span> &lt;<span class="keyword">class </span>TComponent, <span class="keyword">typename</span>... TArguments&gt;</div><div class="line"><a name="l00251"></a><span class="lineno"><a class="line" href="classmbe_1_1_entity.html#adff817339f38213ed42ad8e480fe1de5">  251</a></span>&#160;    <span class="keyword">inline</span> TComponent &amp; <a class="code" href="classmbe_1_1_entity.html#adff817339f38213ed42ad8e480fe1de5">Entity::AddComponent</a>(TArguments&amp;&amp;... arguments)</div><div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;    {</div><div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;        <span class="comment">// Needed since std::is_base_of&lt;T, T&gt; == true</span></div><div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;        static_assert(std::is_base_of&lt;Component, TComponent&gt;::value, <span class="stringliteral">&quot;Entity: TComponent must inherit from Component&quot;</span>);</div><div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;        static_assert(std::is_same&lt;Component, TComponent&gt;::value == <span class="keyword">false</span>, <span class="stringliteral">&quot;Entity: TComponent must inherit from Component&quot;</span>);</div><div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;</div><div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;        <span class="keyword">auto</span> typeId = detail::GetComponentTypeID&lt;TComponent&gt;();</div><div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;</div><div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;        <span class="comment">// Make sure that the component doesn&#39;t already exist</span></div><div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;        assert(this-&gt;HasComponent&lt;TComponent&gt;() == <span class="keyword">false</span> &amp;&amp; <span class="stringliteral">&quot;Entity: The component already exists&quot;</span>);</div><div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;</div><div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;        <span class="keyword">auto</span> component = std::make_shared&lt;TComponent&gt;(*<span class="keyword">this</span>, std::forward&lt;TArguments&gt;(arguments)...);</div><div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;</div><div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;        <span class="comment">// For debugging</span></div><div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;        std::cout &lt;&lt; std::endl &lt;&lt; <span class="stringliteral">&quot;Entity: Added component with id &quot;</span> &lt;&lt; std::to_string(detail::GetComponentTypeID&lt;TComponent&gt;());</div><div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;</div><div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;        componentList.push_back(component);</div><div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;        componentDictionary.insert(std::make_pair(typeId, component));</div><div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;</div><div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;        entityManager.AddEntityToGroup(*<span class="keyword">this</span>, typeId);</div><div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;</div><div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;        this-&gt;<a class="code" href="classmbe_1_1detail_1_1_polyimorphic_component_dictionary.html#a1c7108e55df179afff7a6a33215d0a3b">AddPolymorphism</a>(typeId, component);</div><div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;</div><div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;        <span class="keywordflow">return</span> *component;</div><div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;    }</div><div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;</div><div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;    <span class="keyword">template</span>&lt;<span class="keyword">class</span> TComponent&gt;</div><div class="line"><a name="l00278"></a><span class="lineno"><a class="line" href="classmbe_1_1_entity.html#ae24ad54c0116fdcc8b96d457333f5840">  278</a></span>&#160;    <span class="keyword">inline</span> TComponent &amp; <a class="code" href="classmbe_1_1_entity.html#ae24ad54c0116fdcc8b96d457333f5840">Entity::GetComponent</a>()<span class="keyword"> const</span></div><div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;<span class="keyword">    </span>{</div><div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;        <span class="keyword">const</span> <span class="keyword">auto</span> it = componentDictionary.find(detail::GetComponentTypeID&lt;TComponent&gt;());</div><div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;</div><div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;        <span class="comment">// Don&#39;t use has component to avoid unnecessary lookup</span></div><div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;        <span class="keywordflow">if</span> (it == componentDictionary.cend())</div><div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;            <span class="keywordflow">throw</span> std::runtime_error(<span class="stringliteral">&quot;Enity: This entity does not have the requested component Id: &quot;</span> + std::to_string(detail::GetComponentTypeID&lt;TComponent&gt;()));</div><div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;</div><div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;        <span class="keywordflow">return</span> *std::static_pointer_cast&lt;TComponent&gt;(it-&gt;second.lock());</div><div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;    }</div><div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;</div><div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;    <span class="keyword">template</span> &lt;<span class="keyword">class</span> TComponent&gt;</div><div class="line"><a name="l00290"></a><span class="lineno"><a class="line" href="classmbe_1_1_entity.html#a9e5798c9e90a622510fa926bc21b0492">  290</a></span>&#160;    <span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code" href="classmbe_1_1_entity.html#a9e5798c9e90a622510fa926bc21b0492">Entity::HasComponent</a>()<span class="keyword"> const</span></div><div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;<span class="keyword">    </span>{</div><div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;        <span class="keywordflow">return</span> componentDictionary.find(detail::GetComponentTypeID&lt;TComponent&gt;()) != componentDictionary.end();</div><div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;    }</div><div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;</div><div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;<span class="preprocessor">#pragma endregion</span></div><div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;</div><div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;} <span class="comment">// namespace mbe</span></div><div class="ttc" id="classmbe_1_1_entity_html_ae5fdc031840a8f08dcf24814f9199a3e"><div class="ttname"><a href="classmbe_1_1_entity.html#ae5fdc031840a8f08dcf24814f9199a3e">mbe::Entity::GetChildEntityIDList</a></div><div class="ttdeci">const std::set&lt; HandleID &gt; &amp; GetChildEntityIDList() const</div><div class="ttdef"><b>Definition:</b> Entity.h:229</div></div>
<div class="ttc" id="classmbe_1_1_entity_html_adff817339f38213ed42ad8e480fe1de5"><div class="ttname"><a href="classmbe_1_1_entity.html#adff817339f38213ed42ad8e480fe1de5">mbe::Entity::AddComponent</a></div><div class="ttdeci">TComponent &amp; AddComponent(TArguments &amp;&amp;... arguments)</div><div class="ttdoc">Creates a component and adds it to the component list. </div><div class="ttdef"><b>Definition:</b> Entity.h:251</div></div>
<div class="ttc" id="namespacembe_1_1detail_html_a57b4fb68f3d43f9f2d4dee78a51d1642"><div class="ttname"><a href="namespacembe_1_1detail.html#a57b4fb68f3d43f9f2d4dee78a51d1642">mbe::detail::ComponentTypeID</a></div><div class="ttdeci">std::size_t ComponentTypeID</div><div class="ttdoc">Defines the type of the component id. </div><div class="ttdef"><b>Definition:</b> Entity.h:30</div></div>
<div class="ttc" id="_utility_8h_html"><div class="ttname"><a href="_utility_8h.html">Utility.h</a></div><div class="ttdoc">/ </div></div>
<div class="ttc" id="classmbe_1_1_handle_base_html_a9a1d158b0bdd993e082f50c80dab11cc"><div class="ttname"><a href="classmbe_1_1_handle_base.html#a9a1d158b0bdd993e082f50c80dab11cc">mbe::HandleBase&lt; Entity &gt;::HandleID</a></div><div class="ttdeci">unsigned long long int HandleID</div><div class="ttdoc">Defines the id type used to uniquely identify a handled object. </div><div class="ttdef"><b>Definition:</b> HandleBase.h:24</div></div>
<div class="ttc" id="classmbe_1_1_entity_html_ac81e3ce9ca0e8765d87ce9ce3f345c38"><div class="ttname"><a href="classmbe_1_1_entity.html#ac81e3ce9ca0e8765d87ce9ce3f345c38">mbe::Entity::GetParentEntityID</a></div><div class="ttdeci">HandleID GetParentEntityID() const</div><div class="ttdoc">Gets the parent entity. </div><div class="ttdef"><b>Definition:</b> Entity.h:225</div></div>
<div class="ttc" id="structmbe_1_1_component_polyimorphism_adder_html"><div class="ttname"><a href="structmbe_1_1_component_polyimorphism_adder.html">mbe::ComponentPolyimorphismAdder</a></div><div class="ttdef"><b>Definition:</b> Entity.h:87</div></div>
<div class="ttc" id="classmbe_1_1detail_1_1_singleton_html_a34bbe90769a0fc812e056a6276fc72d3"><div class="ttname"><a href="classmbe_1_1detail_1_1_singleton.html#a34bbe90769a0fc812e056a6276fc72d3">mbe::detail::Singleton&lt; PolyimorphicComponentDictionary &gt;::Instance</a></div><div class="ttdeci">static PolyimorphicComponentDictionary &amp; Instance()</div><div class="ttdoc">Method to access the singleton instance. </div><div class="ttdef"><b>Definition:</b> Singleton.h:45</div></div>
<div class="ttc" id="classmbe_1_1_handle_base_html"><div class="ttname"><a href="classmbe_1_1_handle_base.html">mbe::HandleBase</a></div><div class="ttdoc">Creates an id for the derived object and provides functionality to access it through an id...</div><div class="ttdef"><b>Definition:</b> HandleBase.h:13</div></div>
<div class="ttc" id="namespacembe_1_1detail_html_a2459fb2ad4a15bb974b732e2b1d06604"><div class="ttname"><a href="namespacembe_1_1detail.html#a2459fb2ad4a15bb974b732e2b1d06604">mbe::detail::GetComponentID</a></div><div class="ttdeci">ComponentTypeID GetComponentID() noexcept</div><div class="ttdoc">Returns a unique ComponentTypeID (for each function call) </div><div class="ttdef"><b>Definition:</b> Entity.h:33</div></div>
<div class="ttc" id="classmbe_1_1_entity_html"><div class="ttname"><a href="classmbe_1_1_entity.html">mbe::Entity</a></div><div class="ttdoc">An Object that can have multiple Components. </div><div class="ttdef"><b>Definition:</b> Entity.h:134</div></div>
<div class="ttc" id="classmbe_1_1detail_1_1_polyimorphic_component_dictionary_html_a1c7108e55df179afff7a6a33215d0a3b"><div class="ttname"><a href="classmbe_1_1detail_1_1_polyimorphic_component_dictionary.html#a1c7108e55df179afff7a6a33215d0a3b">mbe::detail::PolyimorphicComponentDictionary::AddPolymorphism</a></div><div class="ttdeci">void AddPolymorphism() noexcept</div><div class="ttdef"><b>Definition:</b> Entity.h:59</div></div>
<div class="ttc" id="classmbe_1_1detail_1_1_singleton_html"><div class="ttname"><a href="classmbe_1_1detail_1_1_singleton.html">mbe::detail::Singleton</a></div><div class="ttdoc">A template class for a singleton. </div><div class="ttdef"><b>Definition:</b> Singleton.h:16</div></div>
<div class="ttc" id="_component_8h_html"><div class="ttname"><a href="_component_8h.html">Component.h</a></div><div class="ttdoc">Abstract class mbe::Component. </div></div>
<div class="ttc" id="classmbe_1_1_entity_html_ac117c78326bff15c0c49cee364483037"><div class="ttname"><a href="classmbe_1_1_entity.html#ac117c78326bff15c0c49cee364483037">mbe::Entity::Group</a></div><div class="ttdeci">std::string Group</div><div class="ttdoc">The type of the id used to access a group. </div><div class="ttdef"><b>Definition:</b> Entity.h:143</div></div>
<div class="ttc" id="namespacembe_1_1detail_html_a7ae3fae6399b83d033050caef096f0b3"><div class="ttname"><a href="namespacembe_1_1detail.html#a7ae3fae6399b83d033050caef096f0b3">mbe::detail::GetComponentTypeID</a></div><div class="ttdeci">ComponentTypeID GetComponentTypeID() noexcept</div><div class="ttdoc">Returns a unique number (of type std::size_t) for each type T. </div><div class="ttdef"><b>Definition:</b> Entity.h:47</div></div>
<div class="ttc" id="classmbe_1_1_entity_html_ae24ad54c0116fdcc8b96d457333f5840"><div class="ttname"><a href="classmbe_1_1_entity.html#ae24ad54c0116fdcc8b96d457333f5840">mbe::Entity::GetComponent</a></div><div class="ttdeci">TComponent &amp; GetComponent() const</div><div class="ttdoc">Returns a refernce to the requested component. </div><div class="ttdef"><b>Definition:</b> Entity.h:278</div></div>
<div class="ttc" id="namespacembe_html"><div class="ttname"><a href="namespacembe.html">mbe</a></div><div class="ttdoc">Add a template parameter for the heuristic. </div><div class="ttdef"><b>Definition:</b> AnimationComponent.h:162</div></div>
<div class="ttc" id="classmbe_1_1_entity_manager_html"><div class="ttname"><a href="classmbe_1_1_entity_manager.html">mbe::EntityManager</a></div><div class="ttdoc">Keeps track of a list of entities. </div><div class="ttdef"><b>Definition:</b> EntityManager.h:22</div></div>
<div class="ttc" id="_singleton_8h_html"><div class="ttname"><a href="_singleton_8h.html">Singleton.h</a></div><div class="ttdoc">Class template mbe::detail::Singleton. </div></div>
<div class="ttc" id="_handle_base_8h_html"><div class="ttname"><a href="_handle_base_8h.html">HandleBase.h</a></div><div class="ttdoc">Class template mbe::HandleBase. </div></div>
<div class="ttc" id="classmbe_1_1_entity_html_a9e5798c9e90a622510fa926bc21b0492"><div class="ttname"><a href="classmbe_1_1_entity.html#a9e5798c9e90a622510fa926bc21b0492">mbe::Entity::HasComponent</a></div><div class="ttdeci">bool HasComponent() const</div><div class="ttdoc">Returns true if the Entity has the requested component, flase otherwise. </div><div class="ttdef"><b>Definition:</b> Entity.h:290</div></div>
<div class="ttc" id="classmbe_1_1_entity_html_ac3e66dbf9fbc26d685d8714428ab4f4a"><div class="ttname"><a href="classmbe_1_1_entity.html#ac3e66dbf9fbc26d685d8714428ab4f4a">mbe::Entity::IsActive</a></div><div class="ttdeci">bool IsActive() const</div><div class="ttdoc">Returns whether this enity is still active. </div><div class="ttdef"><b>Definition:</b> Entity.h:163</div></div>
<div class="ttc" id="classmbe_1_1detail_1_1_polyimorphic_component_dictionary_html"><div class="ttname"><a href="classmbe_1_1detail_1_1_polyimorphic_component_dictionary.html">mbe::detail::PolyimorphicComponentDictionary</a></div><div class="ttdef"><b>Definition:</b> Entity.h:54</div></div>
<div class="ttc" id="structmbe_1_1detail_1_1_component_polyimorphism_adder_static_html"><div class="ttname"><a href="structmbe_1_1detail_1_1_component_polyimorphism_adder_static.html">mbe::detail::ComponentPolyimorphismAdderStatic</a></div><div class="ttdef"><b>Definition:</b> Entity.h:79</div></div>
</div><!-- fragment --></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
